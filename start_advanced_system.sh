#!/bin/bash

echo "๐ ุฑุงูโุงูุฏุงุฒ ุณุณุชู ูพุดุฑูุชู ุชุจุฏู 2D ุจู 3D..."
echo "โณ ูุทูุงู ููุชุธุฑ ุจูุงูุฏ..."

cd ~/2d-to-3d-converter

# ุชููู ุณุฑูุณโูุง ูุจู
pkill -f "python.*advanced_converter" 2>/dev/null
sleep 2

# ูุตุจ ูุงุจุณุชฺฏโูุง ุงุถุงู
echo "๐ง ูุตุจ ูุงุจุณุชฺฏโูุง ูพุดุฑูุชู..."
pip3 install opencv-python numpy pillow --quiet

# ุฑุงูโุงูุฏุงุฒ ุณุฑูุฑ ูพุดุฑูุชู
echo "๐๏ธ ุฑุงูโุงูุฏุงุฒ ุณุฑูุฑ ูพุดุฑูุชู..."
cd backend
python3 advanced_converter.py > ../logs/advanced_server.log 2>&1 &
ADVANCED_PID=$!

echo "โณ ููุชุธุฑ ุฑุงูโุงูุฏุงุฒ ุณุฑูุฑ ูพุดุฑูุชู..."
sleep 8

echo ""
echo "โ ุณุณุชู ูพุดุฑูุชู ูุนุงู ุดุฏ!"
echo "=========================================="
echo "๐จ ุฑุงุจุท ูพุดุฑูุชู: http://localhost:3002/advanced_converter.html"
echo "๐ง API ูพุดุฑูุชู: http://localhost:8001"
echo "๐ ูพูู ูุฏุฑุช: http://localhost:3002/client_dashboard.html"
echo "=========================================="

echo ""
echo "๐ฏ ูฺฺฏโูุง ุณุณุชู ูพุดุฑูุชู:"
echo "โ ุชุจุฏู ูพุดุฑูุชู ุชุตุงูุฑ ุจู 3D"
echo "โ ุงุจุฒุงุฑ ฺุฑุฎุด ู ุฒูู ุฑู ูุฏู"
echo "โ ุฎุฑูุฌ ุจุฑุง ูุงุง (.ma)"
echo "โ ุฎุฑูุฌ ุจุฑุง 3ds Max (.max)" 
echo "โ ุฎุฑูุฌ OBJ, FBX, STL"
echo "โ ูพุดโููุงุด ุฒูุฏู ูุฏู"
echo "โ ฺฉูุชุฑูโูุง ุชุนุงูู"

wait
